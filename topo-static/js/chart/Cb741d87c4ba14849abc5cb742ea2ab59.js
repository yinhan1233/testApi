!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).Cf6c82c21f723a=e()}(this,(function(){"use strict";var n;return n=window.Vue,void((()=>{if(!window.conch)return console.info("请先加载comp包"),!0})()||window.conch.register("Cb741d87c4ba14849abc5cb742ea2ab59",function(){function n(n,r,t="tree"){if(!n.enabled)return!1;switch(t){case"code":return function(n,e){return new Function("data",n)(e)}(n.filterCode,r);case"tree":return function(n,r){return e(n,(n=>e(n,(n=>function(n,e,r,t){let o=n[e];if(null==o)return!1;switch("eq"===r||"in"===r||"nin"===r?(o=o.toString(),t=t.toString()):(o*=1,t*=1),r){case"eq":return o===t;case"gt":return o>t;case"lt":return o<t;case"gte":return o>=t;case"lte":return o<=t;case"ne":return o!==t;case"in":return o.toString().includes(t.toString());case"nin":return!o.toString().includes(t.toString())}}(r,...n)))))}(n,r);default:return!1}}function e(n,e){return function(n){switch(n){case"OR":return Array.prototype.some;case"AND":return Array.prototype.every;default:return()=>!1}}(n.operator).call(n.expressions,e)}const r=class extends window.conch.Base{constructor(n,e){super(n,e),this.padding=[0,0,0,0],this.theme={name:"主题1",palette:["#2362E4","#2782E7","#2AA1EB","#2DC0EE","#31E0F2","#34FFF5"],seriesGradient:[{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#2362E44D"},{offset:50,color:"#2362E4"},{offset:100,color:"#2362E44D"}]}},{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#2782E74D"},{offset:50,color:"#2782E7"},{offset:100,color:"#2782E74D"}]}},{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#2AA1EB4D"},{offset:50,color:"#2AA1EB"},{offset:100,color:"#2AA1EB4D"}]}},{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#2DC0EE4D"},{offset:50,color:"#2DC0EE"},{offset:100,color:"#2DC0EE4D"}]}},{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#31E0F24D"},{offset:50,color:"#31E0F2"},{offset:100,color:"#31E0F24D"}]}},{type:"linearGradient",value:{angle:180,stops:[{offset:0,color:"#34FFF54D"},{offset:50,color:"#34FFF5"},{offset:100,color:"#34FFF54D"}]}}],images:[],backgroundColor:{show:!1,type:"image",fillType:"auto",url:"/s-static/img/psa40898cc-e317-4ab7-bf3f-d7877ee9c73f.png"},color:{show:!0,value:"#FFFFFF"},minorColor:{show:!0,value:"#FFFFFF"},gridColor:{show:!0,value:"#FFFFFF"}},this.config={menu:{chart:{chartCfg:{lineStroke:{width:2,style:"solid"},smooth:!1,smoothNumber:.5,lineShadow:{color:"#0b71e600",x:0,y:0,blur:0},lineSwitch:!1,opacity:.3,symbol:!1,boundaryGap:!0},dataTips:{show:!1,font:{fontFamily:"simSun",fontWeight:400,color:"#FFFFFF",fontSize:12},site:"top"}},title:{title:{show:!1,padding:{top:0,left:0,bottom:0,right:0},text:"这是标题",font:{fontFamily:"simSun",fontWeight:400,color:"#ffffff",fontSize:16},site:"left"},subTitle:{show:!1,padding:{top:0,left:0,bottom:0,right:0},text:"这是副标题",font:{fontFamily:"simSun",fontWeight:400,color:"#ffffff",fontSize:12},site:"left"}},legend:{legend:{show:!1,font:{fontFamily:"simSun",fontWeight:400,color:"#ffffff",fontSize:12},site:"horizontal-center-top",marker:{shape:"roundRect",size:14},markerSpace:{spacing:10}}},axis:{xaxis:{label:{show:!0,textarea:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"#FFFFFFB3"},titleBgColor:{type:"flat",value:"#ffffff00"},padding:{paddingX:0,paddingY:0},customTickCount:{show:!1,tickCount:5}},axisLine:{show:!0,lineStyle:{color:"#FFFFFF4D",width:1,style:"solid"}},tickLine:{show:!1,lineStyle:{color:"#FFFFFF4D",width:1,style:"solid"},length:5},splitLine:{show:!1,lineStyle:{color:"#FFFFFF1A",width:1,style:"solid"}}},yaxis:{label:{show:!0,textarea:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"#FFFFFFB3"},titleBgColor:{type:"flat",value:"#ffffff00"},padding:{paddingX:0,paddingY:0},customTickCount:{show:!1,tickCount:5}},axisLine:{show:!0,lineStyle:{color:"#FFFFFF4D",width:1,style:"solid"}},tickLine:{show:!1,lineStyle:{color:"#FFFFFF4D",width:1,style:"solid"},length:5},splitLine:{show:!0,lineStyle:{color:"#FFFFFF1A",width:1,style:"solid"}}}},tooltip:{textStyle:{fontFamily:"simSun",fontWeight:400,color:"#FFFFFFB3",fontSize:12},padding:{paddingX:10,paddingY:10},borderColor:"rgba(0, 0, 0, 0.65)",backgroundColor:"rgba(0, 0, 0, 0.65)"},expression:{list:[{color:{type:"flat",value:"#2362E4"},condition:{enabled:!1,operator:"OR",expressions:[{operator:"AND",expressions:[["colorField","eq","100"]]}]}}]},advance:{code:""}}},this.data=[{x:"1月",y:48,s:"系列一",colorField:100},{x:"2月",y:40,s:"系列一"},{x:"3月",y:24,s:"系列一"},{x:"4月",y:48,s:"系列一"},{x:"5月",y:49,s:"系列一",colorField:200},{x:"6月",y:58,s:"系列一",colorField:200}],this.type="echarts"}processData(){const{data:n}=this,e=Array.from(new Set(n.map((n=>n.s)))),r=Array.from(new Set(n.map((n=>n.x)))),t=[];return e.forEach((e=>{let r={};const o=n.filter((n=>n.s===e)).map((n=>{const e=this.processExpression(n);return e&&(r=e),{value:n.y,rawData:n}}));t.push({name:e,data:o,lineStyle:r})})),{seriesArr:e,xData:r,yDataArr:t}}setData(n){this.data=n,this.trigger("dataChange",n),this.render()}processExpression(e){const{config:r}=this,t=r.menu&&r.menu.expression&&r.menu.expression.list;let o=null;if(t)for(let r=0;r<t.length;r++){const i=t[r];n(i.condition,e)&&(o={color:i.color.value})}return o}processSeries(n){const{config:e}=this,r=e?.menu?.chart?.chartCfg;let t={},o=r.lineStroke;const i=o.width,l=o.style;t={width:i,type:l};let s=r.smooth;s&&(s=r.smoothNumber);let a=r.lineShadow,c={};const d=a.color,f=a.blur,p=a.x,u=a.y;(9===d.length&&"00"!==d.substr(7)||d.length<=7)&&(c={shadowColor:d,shadowBlur:f,shadowOffsetX:p,shadowOffsetY:u});const h=r.lineSwitch?{areaStyle:{opacity:r.opacity}}:{},y=r.symbol?{}:{symbol:"circle",symbolSize:.01},m=function(n){let e=null;return n&&(e=function(n){let e=null;if(n.show){let r="top";n.site&&(r=n.site),e={position:r,show:!0,...n.font}}return e}(n)),e}(e?.menu?.chart?.dataTips),g=[];return n.yDataArr.forEach((n=>{const e={name:n.name,data:n.data,type:"line",smooth:s,lineStyle:{...n.lineStyle,...t,...c},itemStyle:{...n.lineStyle},...h,...y,label:m};g.push(e)})),g}transformOptions(){const{menu:n}=this.config,e=this.processData(),{xAxis:r,yAxis:t}=function(n,e){let r=null;return n&&(r=function(n,e){const r=function(n){const e=n.label,r=n.axisLine,t=n.tickLine,o=n.splitLine;let i=2;return e.customTickCount&&e.customTickCount.show&&(i=e.customTickCount.tickCount),{axisLabel:{show:e.show,...e.textarea,backgroundColor:e.titleBgColor.value,padding:[e.padding.paddingY,e.padding.paddingX]},axisLine:{show:r.show,lineStyle:{color:r.lineStyle.color,width:r.lineStyle.width,type:r.lineStyle.style}},axisTick:{show:t.show,lineStyle:{color:t.lineStyle.color,width:t.lineStyle.width,type:t.lineStyle.style},length:t.length},splitLine:{show:o.show,lineStyle:{color:o.lineStyle.color,width:o.lineStyle.width,type:o.lineStyle.style}},splitNumber:i}},t=e.xData,o=n.xaxis,i=n.yaxis;return{xAxis:{type:"category",...r(o),data:t},yAxis:{type:"value",...r(i)}}}(n,e)),r}(n?.axis,e);r.boundaryGap=n?.chart?.chartCfg?.boundaryGap;const o=function(n){let e=null;return n&&(e=function(n){if(n.show){const e=n.font,r=n.site.split("-");return{textStyle:e,orient:r[0],left:r[1],top:r[2],icon:n.marker.shape,itemHeight:n.marker.size,itemGap:n.markerSpace.spacing}}return null}(n)),e}(n?.legend?.legend),i=function(n){let e=null;return n&&(e=function(n){return{textStyle:n.textStyle,padding:[n.padding.paddingY,n.padding.paddingX],backgroundColor:n.backgroundColor,borderColor:n.borderColor}}(n)),e}(n?.tooltip);let l=10;o&&"top"===o.top&&(l=30);let s=10;o&&"bottom"===o.top&&(s=20);const a=this.processSeries(e);let c={color:this.theme.palette,grid:{containLabel:!0,left:"10",top:l,right:"10",bottom:s},tooltip:{show:!0,...i},legend:o,xAxis:r,yAxis:t,series:a};const d=_.cloneDeep(n?.advance?.code);if(d)try{d.title&&(d.title=null),c=_.merge(_.cloneDeep(c),d)}catch(n){}return c}mounted(){this.instance.on("click","series",(n=>{this.trigger("click",n?.data?.rawData)}))}};return r.prototype._registerImg=function(n){},r}(),{key:"Cbb9ec7c160e87",width:400,height:250,options:'{\r\n  "actions": [\r\n    {\r\n      "label": "点击",\r\n      "identified": "click"\r\n    },\r\n    {\r\n      "label": "当数据发生变化时",\r\n      "identified": "dataChange"\r\n    }\r\n  ],\r\n  "fields": [\r\n    {\r\n      "name": "x",\r\n      "desc": "x轴(类目)数据"\r\n    },\r\n    {\r\n      "name": "y",\r\n      "desc": "y轴(数值)数据"\r\n    },\r\n    {\r\n      "name": "s",\r\n      "desc": "系列名称"\r\n    },\r\n    {\r\n      "name": "colorFields",\r\n      "desc": "颜色字段"\r\n    }\r\n  ],\r\n  "propertyPanel": {\r\n    "menu": {\r\n      "type": "menu",\r\n      "children": {\r\n        "chart": {\r\n          "name": "图表",\r\n          "mode": "single",\r\n          "children": {\r\n            "chartCfg": {\r\n              "name": "图表设置",\r\n              "type": "group",\r\n              "fold": false,\r\n              "children": {\r\n                "lineStroke": {\r\n                  "type": "stroke",\r\n                  "name": "描边",\r\n                  "components": [\r\n                    "width",\r\n                    "style"\r\n                  ],\r\n                  "default": {\r\n                    "width": 2,\r\n                    "style": "solid"\r\n                  }\r\n                },\r\n                "smooth": {\r\n                  "type": "switch",\r\n                  "name": "平滑",\r\n                  "default": false\r\n                },\r\n                "smoothNumber": {\r\n                  "type": "slider",\r\n                  "name": "平滑张力",\r\n                  "min": 0,\r\n                  "max": 1,\r\n                  "step": 0.1,\r\n                  "default": 0.5,\r\n                  "showInPanel": [\r\n                    [\r\n                      ".smooth",\r\n                      "$eq",\r\n                      true\r\n                    ]\r\n                  ]\r\n                },\r\n                "lineShadow": {\r\n                  "type": "shadow",\r\n                  "name": "阴影",\r\n                  "default": {\r\n                    "color": "#0b71e600",\r\n                    "x": 0,\r\n                    "y": 0,\r\n                    "blur": 0\r\n                  }\r\n                },\r\n                "lineSwitch": {\r\n                  "type": "switch",\r\n                  "name": "显示面积",\r\n                  "default": false\r\n                },\r\n                "opacity": {\r\n                  "type": "slider",\r\n                  "name": "透明",\r\n                  "min": 0,\r\n                  "max": 1,\r\n                  "step": 0.1,\r\n                  "default": 0.3,\r\n                  "showInPanel": [\r\n                    [\r\n                      ".lineSwitch",\r\n                      "$eq",\r\n                      true\r\n                    ]\r\n                  ]\r\n                },\r\n                "symbol": {\r\n                  "type": "switch",\r\n                  "name": "显示端点",\r\n                  "default": false\r\n                },\r\n                "boundaryGap": {\r\n                  "type": "switch",\r\n                  "name": "x轴留白",\r\n                  "default": true\r\n                }\r\n              }\r\n            },\r\n             "dataTips": {\r\n              "name": "显示数据",\r\n              "type": "group",\r\n              "enableHide": true,\r\n              "fold": false,\r\n              "children": {\r\n                "show": {\r\n                  "default": false\r\n                },\r\n                "font": {\r\n                  "name": "文本样式",\r\n                  "type": "font",\r\n                  "default": {\r\n                    "fontFamily": "simSun",\r\n                    "fontWeight": 400,\r\n                    "color": "#FFFFFF",\r\n                    "fontSize": 12\r\n                  }\r\n                },\r\n                "site": {\r\n                  "type": "select",\r\n                  "name": "对齐",\r\n                  "options": [\r\n                    {\r\n                      "label": "top",\r\n                      "value": "top"\r\n                    },\r\n                    {\r\n                      "label": "left",\r\n                      "value": "left"\r\n                    },\r\n                    {\r\n                      "label": "right",\r\n                      "value": "right"\r\n                    },\r\n                    {\r\n                      "label": "bottom",\r\n                      "value": "bottom"\r\n                    },\r\n                    {\r\n                      "label": "inside",\r\n                      "value": "inside"\r\n                    },\r\n                    {\r\n                      "label": "insideLeft",\r\n                      "value": "insideLeft"\r\n                    },\r\n                    {\r\n                      "label": "insideRight",\r\n                      "value": "insideRight"\r\n                    },\r\n                    {\r\n                      "label": "insideTop",\r\n                      "value": "insideTop"\r\n                    },\r\n                    {\r\n                      "label": "insideBottom",\r\n                      "value": "insideBottom"\r\n                    },\r\n                    {\r\n                      "label": "insideTopLeft",\r\n                      "value": "insideTopLeft"\r\n                    },\r\n                    {\r\n                      "label": "insideBottomLeft",\r\n                      "value": "insideBottomLeft"\r\n                    },\r\n                    {\r\n                      "label": "insideTopRight",\r\n                      "value": "insideTopRight"\r\n                    },\r\n                    {\r\n                      "label": "insideBottomRight",\r\n                      "value": "insideBottomRight"\r\n                    }\r\n                  ],\r\n                  "default": "top"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        "title": {\r\n          "name": "标题",\r\n          "type": "title"\r\n        },\r\n        "legend": {\r\n          "name": "图例",\r\n          "type": "legend"\r\n        },\r\n        "axis": {\r\n          "name": "坐标轴",\r\n          "type": "axis"\r\n        },\r\n        "tooltip": {\r\n          "name": "提示框",\r\n          "type": "tooltip"\r\n        },\r\n        "expression": {\r\n          "name": "条件",\r\n          "mode": "single",\r\n          "children": {\r\n            "list": {\r\n              "name": "条件列表",\r\n              "type": "tabs",\r\n              "fold": false,\r\n              "template": {\r\n                "name": "条件<%= i + 1 %>",\r\n                "type": "object",\r\n                "children": {\r\n                  "condition": {\r\n                    "name": "启用",\r\n                    "type": "logicalTree",\r\n                    "default": {\r\n                      "enabled": true,\r\n                      "operator": "OR",\r\n                      "expressions": [\r\n                        {\r\n                          "operator": "AND",\r\n                          "expressions": [\r\n                            [\r\n                              "colorField",\r\n                              "eq",\r\n                              "100"\r\n                            ]\r\n                          ]\r\n                        }\r\n                      ]\r\n                    }\r\n                  },\r\n                  "color": {\r\n                    "name": "线条颜色",\r\n                    "type": "color",\r\n                    "components": [\r\n                      "flat",\r\n                      "linearGradient"\r\n                    ],\r\n                    "default": {\r\n                      "type": "flat",\r\n                      "value": "#2362E4"\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              "default": [\r\n                {\r\n                  "color": {\r\n                    "type": "flat",\r\n                    "value": "#2362E4"\r\n                  },\r\n                  "condition": {\r\n                    "enabled": false,\r\n                    "operator": "OR",\r\n                    "expressions": [\r\n                      {\r\n                        "operator": "AND",\r\n                        "expressions": [\r\n                          [\r\n                            "colorField",\r\n                            "eq",\r\n                            "100"\r\n                          ]\r\n                        ]\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        "advance": {\r\n          "name": "自定义",\r\n          "mode": "single",\r\n          "children": {\r\n            "code": {\r\n              "name": "自定义",\r\n              "description": "直接写echarts option,书写规范：{\\"key\\": value}(echarts title不生效),自定义option优先级大于属性面板配置",\r\n              "type": "code",\r\n              "language": "json",\r\n              "default": ""\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}',script:{lodashminjs:"/lib/lodash.min.js",echarts:"/lib/echarts.js"},utils:["runExpression","getTooltipConfig","getLegendConfig","getLabelConfig","getAxisConfig"]},n))}));
